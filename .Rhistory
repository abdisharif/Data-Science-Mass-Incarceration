library(ggplot2)
## Load Data
Data <- read.csv("/Users/matthewschrier/Desktop/INFO_201/https-classroom.github.com-a-XrLzm1Hu/Arrest_Information.csv")
# Data division by year
Data_2013_all <- filter(Data, X2013=="2013")
## Install Package
install.packages("ggplot2")
install.packages("ggplot2")
install.packages("reshape2")
library(reshape2)
library(ggplot2)
## Load Data
Data <- read.csv("/Users/matthewschrier/Desktop/INFO_201/https-classroom.github.com-a-XrLzm1Hu/Arrest_Information.csv")
# Data division by year
Data_2013_all <- filter(Data, X2013=="2013")
library(ggplot2)
library(dplyr)
## Load Data
Data <- read.csv("/Users/matthewschrier/Desktop/INFO_201/https-classroom.github.com-a-XrLzm1Hu/Arrest_Information.csv")
View(Data)
# Data division by year
Data_2013_all <- filter(Data, X2013=="2013")
Data_2015_all <- filter(Data, X2013=="2015")
Data_2017_all <- filter(Data, X2013=="2017")
Data_2019_all <- filter(Data, X2013=="2019")
Total_Arrest<- c(Data_2013_all$Total[1],Data_2015_all$Total[1],Data_2017_all$Total[1],Data_2019_all$Total[1])
Year <- c("arrest_2013","arrest_2015","arrest_2017","arrest_2019")
Plot<- data.frame(Year, Total_Arrest)
ggplot(Plot, aes(x=Year, y=Total_Arrest,group=1)) + geom_line(linetype = "dashed",color = "red")+geom_point()+
ggtitle("Arrests per Year")+ theme(plot.title = element_text(hjust = 0.5))
## Load Data
Data <- read.csv("https://raw.githubusercontent.com/mschrier/https-classroom.github.com-a-XrLzm1Hu/main/Arrest_Information.csv")
Data1 <- group_by(Data, X2013)
Table <- summarise(Data1, total_arrest = max(Total),
black_arrest = max(Black.or.African.American), white_arrests = max(White),
American_Indian_or_Alaska_Native_arrest = max(American.Indian.or.Alaska.Native),
asian_arrests = max(Asian), Native_Hawaiian_or_Other_Pacific_Islander_arrest = max(Native.Hawaiian.or.Other.Pacific.Islander))
library(dplyr)
## Load Data
Data <- read.csv("https://raw.githubusercontent.com/mschrier/https-classroom.github.com-a-XrLzm1Hu/main/Arrest_Information.csv")
Data1 <- group_by(Data, X2013)
Table <- summarise(Data1, total_arrest = max(Total),
black_arrest = max(Black.or.African.American), white_arrests = max(White),
American_Indian_or_Alaska_Native_arrest = max(American.Indian.or.Alaska.Native),
asian_arrests = max(Asian), Native_Hawaiian_or_Other_Pacific_Islander_arrest = max(Native.Hawaiian.or.Other.Pacific.Islander))
View(Table)
library(reshape2)
library(ggplot2)
library(dplyr)
## Load Data
Data <- read.csv("https://raw.githubusercontent.com/mschrier/https-classroom.github.com-a-XrLzm1Hu/main/Arrest_Information.csv")
# Data of 2019
Data_2019_all <- filter(Data, X2013=="2019")
Total_Arrest<- c(Data_2019_all$White[1],Data_2019_all$Black.or.African.American[1],Data_2019_all$Asian[1],
Data_2019_all$American.Indian.or.Alaska.Native[1],Data_2019_all$Native.Hawaiian.or.Other.Pacific.Islander[1])
pie(Total_Arrest, main = "Arrest_2019",labels=c("White_arrest","Black_arrest","Asian_arrest","America_Indian_Alaska_Native_Arrest",
"Native_Hawaiian_or_Other_Pacific_Islander_arrest"), radius = 3)
## Load Data
Data <- read.csv("https://raw.githubusercontent.com/mschrier/https-classroom.github.com-a-XrLzm1Hu/main/Arrest_Information.csv")
# Data of 2019
Data_2019_all <- filter(Data, X2013=="2019")
Total_Arrest<- c(Data_2019_all$White[1],Data_2019_all$Black.or.African.American[1],Data_2019_all$Asian[1],
Data_2019_all$American.Indian.or.Alaska.Native[1],Data_2019_all$Native.Hawaiian.or.Other.Pacific.Islander[1])
pie(Total_Arrest, main = "Arrest_2019",labels=c("White_arrest","Black_arrest","Asian_arrest","America_Indian_Alaska_Native_Arrest",
"Native_Hawaiian_or_Other_Pacific_Islander_arrest"), radius = 3)
## Load Data
Data <- read.csv("https://raw.githubusercontent.com/mschrier/https-classroom.github.com-a-XrLzm1Hu/main/Arrest_Information.csv")
# Data of 2019
Data_2019_all <- filter(Data, X2013=="2019")
Total_Arrest<- c(Data_2019_all$White[1],Data_2019_all$Black.or.African.American[1],Data_2019_all$Asian[1],
Data_2019_all$American.Indian.or.Alaska.Native[1],Data_2019_all$Native.Hawaiian.or.Other.Pacific.Islander[1])
pie(Total_Arrest, main = "Arrest_2019",labels=c("White_arrest","Black_arrest","Asian_arrest","America_Indian_Alaska_Native_Arrest",
"Native_Hawaiian_or_Other_Pacific_Islander_arrest"), radius = 2)
## Load Data
Data <- read.csv("https://raw.githubusercontent.com/mschrier/https-classroom.github.com-a-XrLzm1Hu/main/Arrest_Information.csv")
# Data of 2019
Data_2019_all <- filter(Data, X2013=="2019")
Total_Arrest<- c(Data_2019_all$White[1],Data_2019_all$Black.or.African.American[1],Data_2019_all$Asian[1],
Data_2019_all$American.Indian.or.Alaska.Native[1],Data_2019_all$Native.Hawaiian.or.Other.Pacific.Islander[1])
pie(Total_Arrest
pie(Total_Arrest, main = "Arrest_2019",labels=c("White_arrest","Black_arrest","Asian_arrest","America_Indian_Alaska_Native_Arrest",
"Native_Hawaiian_or_Other_Pacific_Islander_arrest"), radius = 1)
Total_Arrest<- c(Data_2019_all$White[1],Data_2019_all$Black.or.African.American[1],Data_2019_all$Asian[1],
Data_2019_all$American.Indian.or.Alaska.Native[1],Data_2019_all$Native.Hawaiian.or.Other.Pacific.Islander[1])
pie(Total_Arrest, main = "Arrest_2019",labels=c("White_arrest","Black_arrest","Asian_arrest","America_Indian_Alaska_Native_Arrest",
"Native_Hawaiian_or_Other_Pacific_Islander_arrest"), radius = 1)
## Load Data
Data <- read.csv("https://raw.githubusercontent.com/vera-institute/incarceration-trends/master/incarceration_trends.csv")
View(Data)
# Average of all the counties
Average_Value_Countries <- group_by(Data, county_name) %>% summarise_all(mean, na.rm = TRUE)
## What is the average value of my variable across all the counties (in the current year)?
Average_Total_Male_Female_Black_white_Population_Counties <- Average_Value_Countries[,c(1,6,8,9,11,14)]
View(Average_Total_Male_Female_Black_white_Population_Counties)
## Where is my variable the highest / lowest?
Total_Value_States <- group_by(Data,state) %>% summarise(Total_Pop = sum(total_pop, na.rm = T),
Female_pop = sum(female_pop_15to64, na.rm = T),Male_pop = sum(male_pop_15to64,na.rm = T),
black_pop = sum(black_pop_15to64, na.rm = T),white_pop = sum(white_pop_15to64, na.rm = T))
# Highest Population State
Highest_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$Total_Pop),1])
colnames(Highest_pop_State)[1] = "Highest_Pop_State"
# Highest Female Population State
Highest_Female_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$Female_pop),1])
colnames(Highest_Female_pop_State )[1] = "Highest_Female_Pop_State"
# Highest male Population State
Highest_Male_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$Male_pop),1])
colnames(Highest_Male_pop_State)[1] = "Highest_Male_Pop_State"
# Highest Black Population State
Highest_Black_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$black_pop),1])
colnames(Highest_Black_pop_State)[1] = "Highest_Black_Pop_State"
# Highest White Population State
Highest_White_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$white_pop),1])
colnames(Highest_White_pop_State)[1] = "Highest_White_Pop_State"
Highest_pop <- cbind(Highest_pop_State,Highest_Female_pop_State,Highest_Male_pop_State,Highest_Black_pop_State,Highest_White_pop_State)
View(Highest_pop)
# Lowest Population State
Lowest_pop_State <- as.vector(Total_Value_States[which.min(Total_Value_States$Total_Pop),1])
colnames(Lowest_pop_State)[1] = "Lowest_Pop_State"
# Lowest Female Population State
Lowest_Female_pop_State <- as.vector(Total_Value_States[which.min(Total_Value_States$Female_pop),1])
colnames(Lowest_Female_pop_State )[1] = "Lowest_Female_Pop_State"
# Lowest Male Population State
Lowest_Male_pop_State <- as.vector(Total_Value_States[which.min(Total_Value_States$Male_pop),1])
colnames(Lowest_Male_pop_State)[1] = "Lowest_Male_Pop_State"
# Lowest Black Population State
Lowest_Black_pop_State <- as.vector(Total_Value_States[which.min(Total_Value_States$black_pop),1])
colnames(Lowest_Black_pop_State)[1] = "Lowest_Black_Pop_State"
# Lowest White Population State
Lowest_White_pop_State <- as.vector(Total_Value_States[which.min(Total_Value_States$white_pop),1])
colnames(Lowest_White_pop_State)[1] = "Lowest_White_Pop_State"
Lowest_pop <- cbind(Lowest_pop_State,Lowest_Female_pop_State,Lowest_Male_pop_State,Lowest_Black_pop_State,Lowest_White_pop_State)
View(Lowest_pop)
## How much has my variable change over the last N years?
Pop_Change = function(state){
state = as.character(state)
Change <- filter(Data, state == state)
A<- ddply(Change, "year", numcolwise(sum))
Total_pop_Change <- ((max(A$total_pop,na.rm = T)-min(A$total_pop, na.rm = T))/min(A$total_pop,na.rm = T))*100
Female_pop_Change <- ((max(A$female_pop_15to64,na.rm = T)-min(A$female_pop_15to64, na.rm = T))/min(A$female_pop_15to64,na.rm = T))*100
Male_pop_Change <- ((max(A$male_pop_15to64,na.rm = T)-min(A$male_pop_15to64, na.rm = T))/min(A$male_pop_15to64,na.rm = T))*100
Black_pop_Change <- ((max(A$black_pop_15to64,na.rm = T)-min(A$black_pop_15to64, na.rm = T))/min(A$black_pop_15to64,na.rm = T))*100
White_pop_Change <- ((max(A$white_pop_15to64,na.rm = T)-min(A$white_pop_15to64, na.rm = T))/min(A$white_pop_15to64,na.rm = T))*100
Final_Change<- data.frame(state,Total_pop_Change,Female_pop_Change,Male_pop_Change,Black_pop_Change,White_pop_Change)
return(Final_Change)
}
# Change in California
Change_in_CA <- Pop_Change("CA")
View(Change_in_CA)
## First Plot
Filter_State_CA <- filter(Data, state =="CA")
State_Aggre_CA <- ddply(Filter_State_CA, "year", numcolwise(sum))
library(dplyr)
library(plyr)
## How much has my variable change over the last N years?
Pop_Change = function(state){
state = as.character(state)
Change <- filter(Data, state == state)
A<- ddply(Change, "year", numcolwise(sum))
Total_pop_Change <- ((max(A$total_pop,na.rm = T)-min(A$total_pop, na.rm = T))/min(A$total_pop,na.rm = T))*100
Female_pop_Change <- ((max(A$female_pop_15to64,na.rm = T)-min(A$female_pop_15to64, na.rm = T))/min(A$female_pop_15to64,na.rm = T))*100
Male_pop_Change <- ((max(A$male_pop_15to64,na.rm = T)-min(A$male_pop_15to64, na.rm = T))/min(A$male_pop_15to64,na.rm = T))*100
Black_pop_Change <- ((max(A$black_pop_15to64,na.rm = T)-min(A$black_pop_15to64, na.rm = T))/min(A$black_pop_15to64,na.rm = T))*100
White_pop_Change <- ((max(A$white_pop_15to64,na.rm = T)-min(A$white_pop_15to64, na.rm = T))/min(A$white_pop_15to64,na.rm = T))*100
Final_Change<- data.frame(state,Total_pop_Change,Female_pop_Change,Male_pop_Change,Black_pop_Change,White_pop_Change)
return(Final_Change)
}
# Change in California
Change_in_CA <- Pop_Change("CA")
## First Plot
Filter_State_CA <- filter(Data, state =="CA")
State_Aggre_CA <- ddply(Filter_State_CA, "year", numcolwise(sum))
Filter_State_NY <- filter(Data, state =="NY")
State_Aggre_NY <- ddply(Filter_State_NY, "year", numcolwise(sum))
Filter_State_DC <- filter(Data, state =="DC")
State_Aggre_DC <- ddply(Filter_State_DC, "year", numcolwise(sum))
library(ggplot2)
ggplot(State_Aggre_CA,aes(year,white_pop_15to64))+geom_line(aes(color="California"))+
geom_line(data=State_Aggre_NY,aes(color="New York"))+geom_line(data=State_Aggre_DC,aes(color="Washington DC"))+
labs(color="Legend text")+ xlab('Year') +
ylab('White_Population')
ggplot(State_Aggre_CA,aes(year,female_pop_15to64))+geom_line(aes(color="California"))+
geom_line(data=State_Aggre_NY,aes(color="New York"))+geom_line(data=State_Aggre_DC,aes(color="Washington DC"))+
labs(color="Legend")+ xlab('Year') +
ylab('Female_Population')+ ggtitle("Female Population trend in States")
library(ggcorrplot)
## Second Plot
State_Aggre_CA_2nd_plot <- State_Aggre_CA[21:49,c(4,5,6,7,9,12)]
corr <- round(cor(State_Aggre_CA_2nd_plot), 1)
ggcorrplot(corr) + labs(title = "Relation between California population")
stateFromLower <-function(x) {
#read 52 state codes into local variable [includes DC (Washington D.C. and PR (Puerto Rico)]
st.codes<-data.frame(
state=as.factor(c("AK", "AL", "AR", "AZ", "CA", "CO", "CT", "DC", "DE", "FL", "GA",
"HI", "IA", "ID", "IL", "IN", "KS", "KY", "LA", "MA", "MD", "ME",
"MI", "MN", "MO", "MS",  "MT", "NC", "ND", "NE", "NH", "NJ", "NM",
"NV", "NY", "OH", "OK", "OR", "PA", "PR", "RI", "SC", "SD", "TN",
"TX", "UT", "VA", "VT", "WA", "WI", "WV", "WY")),
full=as.factor(c("alaska","alabama","arkansas","arizona","california","colorado",
"connecticut","district of columbia","delaware","florida","georgia",
"hawaii","iowa","idaho","illinois","indiana","kansas","kentucky",
"louisiana","massachusetts","maryland","maine","michigan","minnesota",
"missouri","mississippi","montana","north carolina","north dakota",
"nebraska","new hampshire","new jersey","new mexico","nevada",
"new york","ohio","oklahoma","oregon","pennsylvania","puerto rico",
"rhode island","south carolina","south dakota","tennessee","texas",
"utah","virginia","vermont","washington","wisconsin",
"west virginia","wyoming"))
)
#create an nx1 data.frame of state codes from source column
st.x<-data.frame(state=x)
#match source codes with codes from 'st.codes' local variable and use to return the full state name
refac.x<-st.codes$full[match(st.x$state,st.codes$state)]
#return the full state names in the same order in which they appeared in the original source
return(refac.x)}
Total_Value_States$region <- stateFromLower(Total_Value_States$state)
Total_Value_States <- Total_Value_States[-c(8),]
library(datasets)
## Third Plot
states_map <- map_data("state")
# Average of all the counties
Average_Value_Countries <- group_by(Data, county_name) %>% summarise_all(mean, na.rm = TRUE)
## What is the average value of my variable across all the counties (in the current year)?
Average_Total_Male_Female_Black_white_Population_Counties <- Average_Value_Countries[,c(1,6,8,9,11,14)]
View(Average_Total_Male_Female_Black_white_Population_Counties)
library(dplyr)
library(plyr)
library(ggplot2)
library(ggcorrplot)
## Load Data
Data <- read.csv("https://raw.githubusercontent.com/vera-institute/incarceration-trends/master/incarceration_trends.csv")
## What is the average value of my variable across all the counties (in the current year)?
Average_Total_Male_Female_Black_white_Population_Counties <- Average_Value_Countries[,c(1,6,8,9,11,14)]
# Average of all the counties
Average_Value_Countries <- group_by(Data, county_name) %>% summarise_all(mean, na.rm = TRUE)
View(Average_Total_Male_Female_Black_white_Population_Counties)
## Where is my variable the highest / lowest?
Total_Value_States <- group_by(Data,state) %>% summarise(Total_Pop = sum(total_pop, na.rm = T),
Female_pop = sum(female_pop_15to64, na.rm = T),Male_pop = sum(male_pop_15to64,na.rm = T),
black_pop = sum(black_pop_15to64, na.rm = T),white_pop = sum(white_pop_15to64, na.rm = T))
# Highest Population State
Highest_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$Total_Pop),1])
colnames(Highest_pop_State)[1] = "Highest_Pop_State"
# Highest Female Population State
Highest_Female_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$Female_pop),1])
colnames(Highest_Female_pop_State )[1] = "Highest_Female_Pop_State"
# Highest Population State
Highest_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$Total_Pop),1])
colnames(Highest_pop_State)[1] = "Highest_Pop_State"
# Highest Female Population State
Highest_Female_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$Female_pop),1])
colnames(Highest_Female_pop_State )[1] = "Highest_Female_Pop_State"
# Highest male Population State
Highest_Male_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$Male_pop),1])
colnames(Highest_Male_pop_State)[1] = "Highest_Male_Pop_State"
# Highest Black Population State
Highest_Black_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$black_pop),1])
colnames(Highest_Black_pop_State)[1] = "Highest_Black_Pop_State"
# Highest White Population State
Highest_White_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$white_pop),1])
colnames(Highest_White_pop_State)[1] = "Highest_White_Pop_State"
## Load Data
Data <- read.csv("https://raw.githubusercontent.com/vera-institute/incarceration-trends/master/incarceration_trends.csv")
View(Data)
## What is the average value of my variable across all the counties (in the current year)?
Average_Total_Male_Female_Black_white_Population_Counties <- Average_Value_Countries[,c(1,6,8,9,11,14)]
View(Average_Total_Male_Female_Black_white_Population_Counties)
# Average of all the counties
Average_Value_Countries <- group_by(Data, county_name) %>% summarise_all(mean, na.rm = TRUE)
## Where is my variable the highest / lowest?
Total_Value_States <- group_by(Data,state) %>% summarise(Total_Pop = sum(total_pop, na.rm = T),
Female_pop = sum(female_pop_15to64, na.rm = T),Male_pop = sum(male_pop_15to64,na.rm = T),
black_pop = sum(black_pop_15to64, na.rm = T),white_pop = sum(white_pop_15to64, na.rm = T))
# Highest Population State
Highest_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$Total_Pop),1])
colnames(Highest_pop_State)[1] = "Highest_Pop_State"
# Highest Female Population State
Highest_Female_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$Female_pop),1])
colnames(Highest_Female_pop_State )[1] = "Highest_Female_Pop_State"
# Highest male Population State
Highest_Male_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$Male_pop),1])
colnames(Highest_Male_pop_State)[1] = "Highest_Male_Pop_State"
# Highest Black Population State
Highest_Black_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$black_pop),1])
colnames(Highest_Black_pop_State)[1] = "Highest_Black_Pop_State"
library(dplyr)
## Load Data
Data <- read.csv("https://raw.githubusercontent.com/vera-institute/incarceration-trends/master/incarceration_trends.csv")
## What is the average value of my variable across all the counties (in the current year)?
Average_Total_Male_Female_Black_white_Population_Counties <- Average_Value_Countries[,c(1,6,8,9,11,14)]
# Average of all the counties
Average_Value_Countries <- group_by(Data, county_name) %>% summarise_all(mean, na.rm = TRUE)
## Where is my variable the highest / lowest?
Total_Value_States <- group_by(Data,state) %>% summarise(Total_Pop = sum(total_pop, na.rm = T),
Female_pop = sum(female_pop_15to64, na.rm = T),Male_pop = sum(male_pop_15to64,na.rm = T),
black_pop = sum(black_pop_15to64, na.rm = T),white_pop = sum(white_pop_15to64, na.rm = T))
# Highest Population State
Highest_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$Total_Pop),1])
# Highest Female Population State
Highest_Female_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$Female_pop),1])
colnames(Highest_Female_pop_State )[1] = "Highest_Female_Pop_State"
colnames(Highest_pop_State)[1] = "Highest_Pop_State"
# Average of all the counties
Average_Value_Countries <- group_by(Data, county_name) %>% summarise_all(mean, na.rm = TRUE)
## What is the average value of my variable across all the counties (in the current year)?
Average_Total_Male_Female_Black_white_Population_Counties <- Average_Value_Countries[,c(1,6,8,9,11,14)]
## Where is my variable the highest / lowest?
Total_Value_States <- group_by(Data,state) %>% summarise(Total_Pop = sum(total_pop, na.rm = T),
Female_pop = sum(female_pop_15to64, na.rm = T),Male_pop = sum(male_pop_15to64,na.rm = T),
black_pop = sum(black_pop_15to64, na.rm = T),white_pop = sum(white_pop_15to64, na.rm = T))
# Highest Population State
Highest_pop_State <- as.vector(Total_Value_States[which.max(Total_Value_States$Total_Pop),1])
colnames(Highest_pop_State)[1] = "Highest_Pop_State"
